<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Smart Board</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        height: 100vh;
        background: #f4f4f4;
      }

      /* Toolbar */
      .toolbar {
        background: #222;
        padding: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: white;
      }
      .toolbar button,
      .toolbar select,
      .toolbar input {
        padding: 6px 10px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      .toolbar button:hover {
        opacity: 0.8;
      }

      /* Canvas Area */
      #board {
        flex: 1;
        background: white;
        cursor: crosshair;
        display: block;
      }
    </style>
  </head>
  <body>
    <!-- Toolbar -->
    <div class="toolbar">
      <label
        >Color: <input type="color" id="colorPicker" value="#000000"
      /></label>
      <label
        >Brush Size:
        <select id="brushSize">
          <option value="2">2px</option>
          <option value="5" selected>5px</option>
          <option value="10">10px</option>
          <option value="20">20px</option>
        </select>
      </label>
      <button id="penBtn">✏️ Pen</button>
      <button id="eraserBtn">🩹 Eraser</button>
      <button id="undoBtn">↩️ Undo</button>
      <button id="redoBtn">↪️ Redo</button>
      <button id="clearBtn">🗑️ Clear</button>
      <button id="saveBtn">💾 Save</button>
    </div>

    <!-- Canvas -->
    <canvas id="board"></canvas>

    <script>
      const canvas = document.getElementById("board");
      const ctx = canvas.getContext("2d");

      // Resize canvas full screen
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height =
          window.innerHeight - document.querySelector(".toolbar").offsetHeight;
      }
      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      // Tools
      let drawing = false;
      let brushColor = document.getElementById("colorPicker").value;
      let brushSize = document.getElementById("brushSize").value;
      let currentTool = "pen"; // or "eraser"

      // History for undo/redo
      let history = [];
      let redoStack = [];

      function saveState() {
        history.push(canvas.toDataURL());
        if (history.length > 50) history.shift(); // limit memory
        redoStack = [];
      }

      // Start drawing
      canvas.addEventListener("mousedown", (e) => {
        drawing = true;
        ctx.beginPath();
        ctx.moveTo(e.offsetX, e.offsetY);
        saveState();
      });

      canvas.addEventListener("mousemove", (e) => {
        if (!drawing) return;
        ctx.lineWidth = brushSize;
        ctx.lineCap = "round";
        ctx.strokeStyle = currentTool === "pen" ? brushColor : "#FFFFFF"; // white eraser
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
      });

      canvas.addEventListener("mouseup", () => {
        drawing = false;
        ctx.closePath();
      });

      // Toolbar actions
      document.getElementById("colorPicker").addEventListener("change", (e) => {
        brushColor = e.target.value;
      });

      document.getElementById("brushSize").addEventListener("change", (e) => {
        brushSize = e.target.value;
      });

      document.getElementById("penBtn").addEventListener("click", () => {
        currentTool = "pen";
      });

      document.getElementById("eraserBtn").addEventListener("click", () => {
        currentTool = "eraser";
      });

      document.getElementById("clearBtn").addEventListener("click", () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        saveState();
      });

      document.getElementById("undoBtn").addEventListener("click", () => {
        if (history.length > 0) {
          redoStack.push(history.pop());
          let imgData = history[history.length - 1];
          let img = new Image();
          img.src = imgData;
          img.onload = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(img, 0, 0);
          };
        }
      });

      document.getElementById("redoBtn").addEventListener("click", () => {
        if (redoStack.length > 0) {
          let imgData = redoStack.pop();
          history.push(imgData);
          let img = new Image();
          img.src = imgData;
          img.onload = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(img, 0, 0);
          };
        }
      });

      document.getElementById("saveBtn").addEventListener("click", () => {
        const link = document.createElement("a");
        link.download = "smartboard.png";
        link.href = canvas.toDataURL();
        link.click();
      });

      // Save initial blank state
      saveState();
    </script>
  </body>
</html>







